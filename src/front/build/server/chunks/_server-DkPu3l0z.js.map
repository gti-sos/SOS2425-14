{"version":3,"file":"_server-DkPu3l0z.js","sources":["../../../.svelte-kit/adapter-node/entries/endpoints/api/aemet/_server.js"],"sourcesContent":["import { j as json } from \"../../../../chunks/index2.js\";\nconst endpoint = \"https://opendata.aemet.es/opendata/api/prediccion/especifica/municipio/diaria/41091\";\nconst AEMET_API_KEY = \"eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJmcmFucm9tYXIyMDAyQGdtYWlsLmNvbSIsImp0aSI6IjBmMzRlYTY3LTBjYTItNDkxOC1hYjMwLTZiZTY2MDYzMWJlYyIsImlzcyI6IkFFTUVUIiwiaWF0IjoxNzQ2NzA3NDYwLCJ1c2VySWQiOiIwZjM0ZWE2Ny0wY2EyLTQ5MTgtYWIzMC02YmU2NjA2MzFiZWMiLCJyb2xlIjoiIn0.bvWaWrzVBpnrGKDRuoXPT0ctddHdcDMA4fVaPw-jcUM\";\nasync function GET() {\n  try {\n    const res = await fetch(endpoint, {\n      headers: {\n        Accept: \"application/json\",\n        api_key: AEMET_API_KEY\n      }\n    });\n    const data = await res.json();\n    if (data.estado === 200) {\n      const realRes = await fetch(data.datos);\n      const prediccion = await realRes.json();\n      return json(prediccion);\n    } else {\n      return json({ error: \"Error en la API de AEMET\" }, { status: 500 });\n    }\n  } catch (err) {\n    console.error(\"Error al conectar con AEMET:\", err);\n    return json({ error: \"Error interno\" }, { status: 500 });\n  }\n}\nexport {\n  GET\n};\n"],"names":[],"mappings":";;AACA,MAAM,QAAQ,GAAG,qFAAqF;AACtG,MAAM,aAAa,GAAG,kSAAkS;AACxT,eAAe,GAAG,GAAG;AACrB,EAAE,IAAI;AACN,IAAI,MAAM,GAAG,GAAG,MAAM,KAAK,CAAC,QAAQ,EAAE;AACtC,MAAM,OAAO,EAAE;AACf,QAAQ,MAAM,EAAE,kBAAkB;AAClC,QAAQ,OAAO,EAAE;AACjB;AACA,KAAK,CAAC;AACN,IAAI,MAAM,IAAI,GAAG,MAAM,GAAG,CAAC,IAAI,EAAE;AACjC,IAAI,IAAI,IAAI,CAAC,MAAM,KAAK,GAAG,EAAE;AAC7B,MAAM,MAAM,OAAO,GAAG,MAAM,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC;AAC7C,MAAM,MAAM,UAAU,GAAG,MAAM,OAAO,CAAC,IAAI,EAAE;AAC7C,MAAM,OAAO,IAAI,CAAC,UAAU,CAAC;AAC7B,KAAK,MAAM;AACX,MAAM,OAAO,IAAI,CAAC,EAAE,KAAK,EAAE,0BAA0B,EAAE,EAAE,EAAE,MAAM,EAAE,GAAG,EAAE,CAAC;AACzE;AACA,GAAG,CAAC,OAAO,GAAG,EAAE;AAChB,IAAI,OAAO,CAAC,KAAK,CAAC,8BAA8B,EAAE,GAAG,CAAC;AACtD,IAAI,OAAO,IAAI,CAAC,EAAE,KAAK,EAAE,eAAe,EAAE,EAAE,EAAE,MAAM,EAAE,GAAG,EAAE,CAAC;AAC5D;AACA;;;;"}