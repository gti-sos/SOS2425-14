import{K as B,M as F,O as w,F as x,Q as K,R as Q,b as k,a as W,T as Z,U as H,V as C,W as I,X as z,Y as V,Z as Y,_ as G,a0 as M,a1 as L,a2 as D,a3 as J,m as P,a4 as O,a5 as $,a6 as j,a7 as ee,a8 as ae,a9 as re,aa as ne,ab as le,ac as fe,ad as ie}from"./9WqpKGnU.js";function de(i,e){return e}function se(i,e,a,u){for(var d=[],v=e.length,t=0;t<v;t++)j(e[t].e,d,!0);var p=v>0&&d.length===0&&a!==null;if(p){var h=a.parentNode;ee(h),h.append(a),u.clear(),T(i,e[0].prev,e[v-1].next)}ae(d,()=>{for(var _=0;_<v;_++){var r=e[_];p||(u.delete(r.k),T(i,r.prev,r.next)),re(r.e,!p)}})}function _e(i,e,a,u,d,v=null){var t=i,p={flags:e,items:new Map,first:null};{var h=i;t=x?w(K(h)):h.appendChild(B())}x&&Q();var _=null,r=!1,o=W(()=>{var n=a();return ie(n)?n:n==null?[]:L(n)});F(()=>{var n=k(o),s=n.length;if(r&&s===0)return;r=s===0;let l=!1;if(x){var A=t.data===Z;A!==(s===0)&&(t=H(),w(t),C(!1),l=!0)}if(x){for(var E=null,f,c=0;c<s;c++){if(I.nodeType===8&&I.data===z){t=I,l=!0,C(!1);break}var b=n[c],y=u(b,c);f=U(I,p,E,null,b,y,c,d,e,a),p.items.set(y,f),E=f}s>0&&w(H())}x||te(n,p,t,d,e,u,a),v!==null&&(s===0?_?V(_):_=Y(()=>v(t)):_!==null&&G(_,()=>{_=null})),l&&C(!0),k(o)}),x&&(t=I)}function te(i,e,a,u,d,v,t){var p=i.length,h=e.items,_=e.first,r=_,o,n=null,s=[],l=[],A,E,f,c;for(c=0;c<p;c+=1){if(A=i[c],E=v(A,c),f=h.get(E),f===void 0){var b=r?r.e.nodes_start:a;n=U(b,e,n,n===null?e.first:n.next,A,E,c,u,d,t),h.set(E,n),s=[],l=[],r=n.next;continue}if(ue(f,A,c),(f.e.f&M)!==0&&V(f.e),f!==r){if(o!==void 0&&o.has(f)){if(s.length<l.length){var y=l[0],g;n=y.prev;var N=s[0],m=s[s.length-1];for(g=0;g<s.length;g+=1)S(s[g],y,a);for(g=0;g<l.length;g+=1)o.delete(l[g]);T(e,N.prev,m.next),T(e,n,N),T(e,m,y),r=y,n=m,c-=1,s=[],l=[]}else o.delete(f),S(f,r,a),T(e,f.prev,f.next),T(e,f,n===null?e.first:n.next),T(e,n,f),n=f;continue}for(s=[],l=[];r!==null&&r.k!==E;)(r.e.f&M)===0&&(o??(o=new Set)).add(r),l.push(r),r=r.next;if(r===null)continue;f=r}s.push(f),n=f,r=f.next}if(r!==null||o!==void 0){for(var R=o===void 0?[]:L(o);r!==null;)(r.e.f&M)===0&&R.push(r),r=r.next;var X=R.length;if(X>0){var q=p===0?a:null;se(e,R,q,h)}}D.first=e.first&&e.first.e,D.last=n&&n.e}function ue(i,e,a,u){J(i.v,e),i.i=a}function U(i,e,a,u,d,v,t,p,h,_){var r=(h&ne)!==0,o=(h&le)===0,n=r?o?P(d):O(d):d,s=(h&$)===0?t:O(t),l={i:s,v:n,k:v,a:null,e:null,prev:a,next:u};try{return l.e=Y(()=>p(i,n,s,_),x),l.e.prev=a&&a.e,l.e.next=u&&u.e,a===null?e.first=l:(a.next=l,a.e.next=l.e),u!==null&&(u.prev=l,u.e.prev=l.e),l}finally{}}function S(i,e,a){for(var u=i.next?i.next.e.nodes_start:a,d=e?e.e.nodes_start:a,v=i.e.nodes_start;v!==u;){var t=fe(v);d.before(v),v=t}}function T(i,e,a){e===null?i.first=a:(e.next=a,e.e.next=a&&a.e),a!==null&&(a.prev=e,a.e.prev=e&&e.e)}export{_e as e,de as i};
