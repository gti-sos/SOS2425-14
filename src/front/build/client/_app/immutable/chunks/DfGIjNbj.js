import{a9 as o,aa as _}from"./B7Fb9UaI.js";import{l as d}from"./Bq2OTwYh.js";function f(e,u,r){if(e.multiple)return c(e,u);for(var a of e.options){var t=i(a);if(_(t,u)){a.selected=!0;return}}(!r||u!==void 0)&&(e.selectedIndex=-1)}function s(e,u){o(()=>{var r=new MutationObserver(()=>{var a=e.__value;f(e,a)});return r.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{r.disconnect()}})}function p(e,u,r=u){var a=!0;d(e,"change",t=>{var n=t?"[selected]":":checked",v;if(e.multiple)v=[].map.call(e.querySelectorAll(n),i);else{var l=e.querySelector(n)??e.querySelector("option:not([disabled])");v=l&&i(l)}r(v)}),o(()=>{var t=u();if(f(e,t,a),a&&t===void 0){var n=e.querySelector(":checked");n!==null&&(t=i(n),r(t))}e.__value=t,a=!1}),s(e)}function c(e,u){for(var r of e.options)r.selected=~u.indexOf(i(r))}function i(e){return"__value"in e?e.__value:e.value}export{p as b};
